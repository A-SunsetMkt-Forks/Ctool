"use strict";(self["webpackChunkc_tool"]=self["webpackChunkc_tool"]||[]).push([[9061],{69061:function(t,r,e){e.r(r),e.d(r,{default:function(){return c}});var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("Form",[e("FormItem",{attrs:{label:"SQL"}},[e("Input",{attrs:{type:"textarea",rows:3,placeholder:"SELECT * FROM T WHERE id=? AND name = ?"},model:{value:t.current.sqlStr,callback:function(r){t.$set(t.current,"sqlStr",r)},expression:"current.sqlStr"}})],1),e("FormItem",{attrs:{label:t.$t("sqlFillParameter_parameter")}},[e("Input",{attrs:{type:"textarea",rows:3,placeholder:"1(Integer),zhangshan(String)"},model:{value:t.current.paramStr,callback:function(r){t.$set(t.current,"paramStr",r)},expression:"current.paramStr"}})],1),e("option-block",{staticClass:"page-option-block"},[e("FormItem",[e("ButtonGroup",[e("Button",{attrs:{type:"primary"},on:{click:t.fill}},[t._v(t._s(t.$t("sqlFillParameter_fill")))]),e("Button",{attrs:{type:"primary"},on:{click:t.clear}},[t._v(t._s(t.$t("sqlFillParameter_clear")))])],1)],1)],1),e("FormItem",{attrs:{label:t.$t("sqlFillParameter_out")}},[e("Input",{attrs:{type:"textarea",rows:3,placeholder:"SELECT * FROM T WHERE id=1 AND name='zhangshan'"},model:{value:t.current.outStr,callback:function(r){t.$set(t.current,"outStr",r)},expression:"current.outStr"}})],1)],1)],1)},n=[],l=(e(21703),e(74916),e(23123),e(21249),["String","Integer","Long","Timestamp"]),s={data:function(){return{current:{sqlStr:"",paramStr:"",outStr:""}}},created:function(){this.$initToolData()},methods:{resize:function(t){this.inputHeight=Math.min(Math.ceil(t/2),160),this.outputHeight=t-this.inputHeight},clear:function(){this.current.sqlStr="",this.current.paramStr="",this.current.outStr=""},fill:function(){try{for(var t=this.convertParameter(),r=this.current.sqlStr,e="",a=0,n="",s=0;s<r.length;s++){var i=r.charAt(s);if("?"===i){if(t.length<=a)throw new Error(this.$t("sqlFillParameter_parameter_too_little"));var u=t[a];switch(u.type){case l[0]:n="'"+u.value+"'";break;case l[1]:case l[2]:n=u.value;break;case l[3]:n="timestamp"+u.value;break;default:n=u.value}e+=n,a++}else e+=i}this.current.outStr=e,this.$saveToolData(this.current)}catch(o){this.$Message.error(o.message)}},convertParameter:function(){var t=this;if(this.current.paramStr){var r=this.current.paramStr.split(",",-1);return r.map((function(r){var e=r.lastIndexOf("(");if(e<0)throw new Error(t.$t("sqlFillParameter_invalid_param")+r);var a=r.substring(0,e),n=r.length,l=r.substring(e+1,n-1);return{value:a,type:l}}))}return[]}}},i=s,u=e(1001),o=(0,u.Z)(i,a,n,!1,null,"14ba0605",null),c=o.exports}}]);