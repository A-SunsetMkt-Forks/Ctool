(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4664999b"],{"0968":function(e,t,r){"use strict";r("1eed")},"0d4f":function(e,t,r){},1:function(e,t){},"1e71":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Input",{staticClass:"auto-height-textarea",style:e.style,attrs:{type:"textarea",placeholder:e.placeholder},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})},a=[],i=(r("c5f6"),r("2ef0")),o=r.n(i),u={name:"autoHeightTextarea",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:""},height:{type:[String,Number],default:""}},data:function(){return{textarea:""}},computed:{style:function(){var e=[];return this.height&&e.push("height:".concat(this.height).concat(o.a.isNumber(this.height)?"px":"")),e.join(";")}},watch:{textarea:function(e){e!==this.value&&this.$emit("input",e)},value:function(e){e!==this.textarea&&(this.textarea=e)}},created:function(){this.textarea=this.value}},s=u,c=(r("c703"),r("2877")),l=Object(c["a"])(s,n,a,!1,null,null,null);t["a"]=l.exports},"1eed":function(e,t,r){},2:function(e,t){},"333b":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Upload",{staticStyle:{display:"inline-block"},attrs:{action:"#","before-upload":e.handleUpload,format:e.format,showUploadList:!1}},[r("Button",{attrs:{shape:"circle",icon:"md-cloud-upload"}}),e.disablePaste?e._e():["file"===e.type?r("pasteClipboardFlie",{on:{"on-paste-file":e.handleUpload}}):e._e(),"image"===e.type?r("pasteClipboardFlie",{on:{"on-paste-image":e.handleUpload}}):e._e()]],2)},a=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{display:"inline"}},[e._t("default")],2)},o=[],u={name:"pasteClipboardFlie",methods:{reader:function(e){if("clipboardData"in e){var t=e.clipboardData&&e.clipboardData.items,r=e.clipboardData.types||[];if(t&&t.length)for(var n=0;n<t.length;n++)if("Files"===r[n])return this.$emit("on-paste-file",t[n].getAsFile()),void(-1!==t[n].type.indexOf("image")&&this.$emit("on-paste-image",t[n].getAsFile()))}}},destroyed:function(){window.removeEventListener("paste",this.reader)},mounted:function(){window.addEventListener("paste",this.reader)}},s=u,c=r("2877"),l=Object(c["a"])(s,i,o,!1,null,null,null),d=l.exports,p={components:{pasteClipboardFlie:d},props:{disablePaste:{type:Boolean,default:!1},type:{type:String,default:"file"}},computed:{format:function(){return"image"===this.type?["jpg","jpeg","png"]:[]}},methods:{handleUpload:function(e){this.$emit("success",e)}}},f=p,h=Object(c["a"])(f,n,a,!1,null,null,null);t["a"]=h.exports},"738d":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:"height:"+e.height},[e._t("default")],2)},a=[],i=(r("ac6a"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("7f7f"),r("6b54"),r("6762"),r("2fdb"),r("c5f6"),r("a296"));function o(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e){var t=document.querySelector(e);if(null===t)return 0;var r=window.getComputedStyle(t),n=parseFloat(r["marginTop"])+parseFloat(r["marginBottom"]);return Math.ceil(t.offsetHeight+n)}var l={name:"heightResize",props:{append:{type:Array,default:function(){return[]}},reduce:{type:Number,default:0},remove:{type:Array,default:function(){return[]}},ignore:{type:Boolean,default:!1}},data:function(){return{height:"auto"}},methods:{reportWindowSize:function(){this.resize()},resize:function(){var e,t=this,r=window.innerHeight,n=[".tool-select-block",".tool-category-menu-block",".ctool-bottom"],a=n.filter((function(e){return!t.remove.includes(e)})).concat(this.append),i=o(a);try{for(i.s();!(e=i.n()).done;){var u=e.value;r-=c(u)}}catch(s){i.e(s)}finally{i.f()}this.reduce>0&&(r-=this.reduce),r>100&&(r-=5),this.ignore||(this.height=r+"px"),this.$emit("resize",r)}},destroyed:function(){window.removeEventListener(i["b"],this.reportWindowSize)},mounted:function(){window.addEventListener(i["b"],this.reportWindowSize),this.resize()}},d=l,p=r("2877"),f=Object(p["a"])(d,n,a,!1,null,null,null);t["a"]=f.exports},c703:function(e,t,r){"use strict";r("0d4f")},eb0c9:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Tabs",{model:{value:e.current.operation,callback:function(t){e.$set(e.current,"operation",t)},expression:"current.operation"}},[r("TabPane",{attrs:{label:e.$t("qrCode_generate_title"),name:"generate"}},[r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"14"}},[r("heightResize",{attrs:{reduce:52}},[r("autoHeightTextarea",{attrs:{placeholder:e.$t("qrCode_generate_input")},model:{value:e.current.generateInput,callback:function(t){e.$set(e.current,"generateInput",t)},expression:"current.generateInput"}})],1)],1),r("Col",{attrs:{span:"10"}},[r("heightResize",{attrs:{reduce:52}},[e.generateOutput?r("div",{staticClass:"tool-qrcode-block"},[e.generateOutput.startsWith("data:")?r("img",{staticStyle:{width:"70%","min-width":"300px",cursor:"pointer"},attrs:{src:e.generateOutput},on:{click:function(){return e.$clipboardCopyImages(e.generateOutput)}}}):r("p",[e._v(e._s(e.generateOutput))])]):e._e()])],1)],1)],1),r("TabPane",{attrs:{label:e.$t("qrCode_reader_title"),name:"reader"}},[r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"14"}},[r("input-block",{staticClass:"tool-reader-input",staticStyle:{"margin-bottom":"10px"}},[r("Input",{attrs:{rows:5,type:"textarea",placeholder:e.$t("qrCode_reader_input")},model:{value:e.current.readerInput,callback:function(t){e.$set(e.current,"readerInput",t)},expression:"current.readerInput"}}),r("updateFile",{attrs:{slot:"extra",type:"image"},on:{success:e.handleUpload},slot:"extra"})],1),r("heightResize",{attrs:{reduce:52,append:[".tool-reader-input"]}},[r("autoHeightTextarea",{attrs:{value:e.readerOutput,placeholder:e.$t("qrCode_reader_output")}})],1)],1),r("Col",{attrs:{span:"10"}},[r("heightResize",{attrs:{reduce:52}},[r("div",{staticClass:"tool-qrcode-block",domProps:{innerHTML:e._s(e.readerInputImg)}})])],1)],1)],1)],1)],1)},a=[],i=(r("6b54"),r("d055")),o=r.n(i),u=r("fc17"),s=r.n(u),c=r("b8c4"),l=r("ef21"),d=r.n(l),p=r("333b"),f=r("738d"),h=r("1e71"),g={components:{updateFile:p["a"],heightResize:f["a"],autoHeightTextarea:h["a"]},computed:{readerInputImg:function(){return this.current.readerInput?'<img style="width:70%;min-width:300px;" src="'.concat(this.current.readerInput,'" />'):""}},watch:{"current.generateInput":function(){this.generate()},"current.readerInput":function(){this.reader()}},created:function(){var e=c["a"].getToolCurrentFeature("generate");"generate"===e?(this.current.operation=e,this.$initToolData("generateInput")):"reader"===e?(this.current.operation=e,this.$initToolData("readerInput")):this.$initToolData()},methods:{generate:function(){var e=this;this.current.generateInput?o.a.toDataURL(this.current.generateInput,(function(t,r){t?e.generateOutput=e.$t("qrCode_generate_error",[t]):(e.generateOutput=r,e.$saveToolData(e.current))})):this.generateOutput=""},reader:function(){var e=this;this.current.readerInput?this.getReaderImagePngBase64(this.current.readerInput).then((function(t){e.readerOutput=t,e.$saveToolData(e.current)})).catch((function(t){e.readerOutput=e.$t("qrCode_reader_error",[t.message])})):this.readerOutput=""},getReaderImagePngBase64:function(e){var t=this;return new Promise((function(r,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){if(a.status>=200&&a.status<300){var e=a.response,i=new FileReader;i.readAsArrayBuffer(e),i.addEventListener("loadend",(function(e){var t=e.target.result;try{d.a.read(t,(function(e,t){if(e)return n(e);t.getBase64Async("image/png").then((function(e){return s()(e)})).then((function(e){r(e.data)})).catch((function(e){n(e)}))}))}catch(e){n(e)}}))}else n(new Error(t.$t("qrCode_reader_parsing_failure").toString()))},a.onerror=function(){return n(new Error(t.$t("qrCode_reader_parsing_failure").toString()))},a.send()}))},handleUpload:function(e){var t=this;if("reader"===this.current.operation){var r=new FileReader;return r.readAsDataURL(e),r.onloadend=function(){t.current.readerInput=r.result},!1}}},data:function(){return{readerOutput:"",generateOutput:"",current:{generateInput:"",readerInput:"",operation:"generate"}}}},m=g,v=(r("0968"),r("2877")),b=Object(v["a"])(m,n,a,!1,null,null,null);t["default"]=b.exports}}]);