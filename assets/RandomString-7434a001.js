import{u as M,i as E}from"./action-514feb9b.js";import{b as F,S as N}from"./index-25b05481.js";import{A as R,bi as H,aA as L,k as O,al as T,be as B,o as D,x as n,bj as u,a$ as i,F as q,aF as r,as as G,bu as b}from"./history-a9f217ed.js";import"./index-25d7a505.js";import"./callBound-7203e6b7.js";import"./_commonjsHelpers-87174ba5.js";import"./shim-03580cdb.js";import"./empty-9f795c74.js";import"./index-395898e3.js";const le=R({__name:"RandomString",async setup(J){let $,y;const g="small",f="0123456789",h="abcdefghijklmnopqrstuvwxyz",_="ABCDEFGHIJKLMNOPQRSTUVWXYZ",k="`~!@#$%^&*()-_=+[{]}|;:',<.>/?",t=M(([$,y]=H(()=>E({amount:10,length:32,outputOption:F("text"),base:`${f}${h}${_}`,result:[]})),$=await $,y(),$));let a=L({base:t.current.base,show:!1});const C=()=>{let l=`${t.current.base}`,e=[];for(let s=0,v=t.current.amount;s<v;s++){let m=l.split(""),p="";for(let V=0,S=t.current.length;V<S&&!(m.length<1);V++){let d=Math.floor(Math.random()*m.length);p+=m[d]}e.push(p)}t.current.result=e},I=O(()=>N.formObject(t.current.result));T(()=>{t.current.result.length<1&&C()}),B(()=>({amount:t.current.amount,length:t.current.length,base:t.current.base}),()=>{C()}),B(()=>t.current,l=>{l.result.length<1||t.save()},{deep:!0,immediate:!0});const c=l=>{if(l==="reset"){a.value.base=`${f}${h}${_}`;return}let e=`${a.value.base}`.split("");const s=({digital:`${f}`,lowercase:`${h}`,uppercase:`${_}`,symbol:`${k}`}[l]||"").split("");s.length>0&&(console.log(b.intersection(e,s)),b.intersection(e,s).length>0?e=e.filter(v=>!s.includes(v)):e=[...e,...s]),a.value.base=[...new Set(e)].join("")},w=O(()=>{let l=`${a.value.base}`.split("");return{digital:b.intersection(l,f.split("")).length>0,lowercase:b.intersection(l,h.split("")).length>0,uppercase:b.intersection(l,_.split("")).length>0,symbol:b.intersection(l,k.split("")).length>0}});return(l,e)=>{const s=r("SerializeOutput"),v=r("HeightResize"),m=r("Icon"),p=r("Button"),V=r("Input"),S=r("InputNumber"),d=r("Align"),U=r("Card"),A=r("Textarea"),z=r("Bool"),j=r("Modal");return G(),D(q,null,[n(d,{direction:"vertical"},{default:u(()=>[n(v,{reduce:5,append:[".ctool-page-option"]},{default:u(({height:o})=>[n(s,{modelValue:i(t).current.outputOption,"onUpdate:modelValue":e[0]||(e[0]=x=>i(t).current.outputOption=x),allow:["json","xml","yaml","toml","properties","php_array","text"],height:o,content:I.value},null,8,["modelValue","height","content"])]),_:1},8,["append"]),n(U,{class:"ctool-page-option"},{default:u(()=>[n(d,{horizontal:"center"},{default:u(()=>[n(V,{modelValue:i(t).current.base,"onUpdate:modelValue":e[2]||(e[2]=o=>i(t).current.base=o),width:300},{append:u(()=>[n(p,{onClick:e[1]||(e[1]=o=>{a.value.base=i(t).current.base,a.value.show=!0})},{default:u(()=>[n(m,{hover:"",name:"setting",tooltip:l.$t("main_ui_setting"),size:12},null,8,["tooltip"])]),_:1})]),_:1},8,["modelValue"]),n(S,{modelValue:i(t).current.length,"onUpdate:modelValue":e[3]||(e[3]=o=>i(t).current.length=o),width:100,label:l.$t("randomString_length")},null,8,["modelValue","label"]),n(S,{modelValue:i(t).current.amount,"onUpdate:modelValue":e[4]||(e[4]=o=>i(t).current.amount=o),width:100,label:l.$t("randomString_amount")},null,8,["modelValue","label"]),n(p,{onClick:C},{default:u(()=>[n(m,{name:"refresh",size:12})]),_:1})]),_:1})]),_:1})]),_:1}),n(j,{title:`${l.$t("main_ui_setting")} ${l.$t("randomString_chars")}`,modelValue:a.value.show,"onUpdate:modelValue":e[11]||(e[11]=o=>a.value.show=o),"footer-type":"long",onOk:e[12]||(e[12]=o=>{i(t).current.base=a.value.base,a.value.show=!1})},{default:u(()=>[n(d,{direction:"vertical"},{default:u(()=>[n(A,{modelValue:a.value.base,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.base=o),height:300},null,8,["modelValue"]),n(d,{horizontal:"center"},{default:u(()=>[n(z,{size:g,border:"",label:l.$t("randomString_digital"),"model-value":w.value.digital,onChange:e[6]||(e[6]=o=>c("digital"))},null,8,["label","model-value"]),n(z,{size:g,border:"",label:l.$t("randomString_lowercase"),"model-value":w.value.lowercase,onChange:e[7]||(e[7]=o=>c("lowercase"))},null,8,["label","model-value"]),n(z,{size:g,border:"",label:l.$t("randomString_uppercase"),"model-value":w.value.uppercase,onChange:e[8]||(e[8]=o=>c("uppercase"))},null,8,["label","model-value"]),n(z,{size:g,border:"",label:l.$t("randomString_symbol"),"model-value":w.value.symbol,onChange:e[9]||(e[9]=o=>c("symbol"))},null,8,["label","model-value"]),n(p,{size:g,text:l.$t("main_ui_reset"),onClick:e[10]||(e[10]=o=>c("reset"))},null,8,["text"])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])],64)}}});export{le as default};
