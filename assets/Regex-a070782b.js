import{u as U,i as C}from"./action-69372288.js";import{g as A,a as E}from"./util-874621ee.js";import{d as z,z as H,r as i,f,c as R,w as s,v as n,j as t,y as T,I as v,D as F,k as $,A as w,V as y,F as P,B as j}from"./tool-34caf6bc.js";import"./modulepreload-polyfill-3cfb730f.js";const I=z({__name:"Reference",setup(D){const m=H(()=>[{title:$t("regex_reference_name"),key:"name",width:150},{title:$t("regex_reference_text"),key:"text",html:!0}]);return(x,o)=>{const u=i("Table"),r=i("HeightResize");return f(),R(r,null,{default:s(({height:e})=>[n(u,{columns:t(m),lists:t(A)(),height:e},null,8,["columns","lists","height"])]),_:1})}}}),L={class:"ctool-page-option",style:{"margin-bottom":"5px"}},Y=z({__name:"Regex",async setup(D){let m,x;const o=U(([m,x]=T(()=>C({input:"[\\dheo]",content:new Date().getFullYear()+" hello WORLD 你好世界",replace:"",is_global:!0,is_ignore_case:!0,is_delete:!1},{paste:!1})),m=await m,x(),m));let u=v(""),r=v(!1);return F(()=>o.current,e=>{u.value="";try{if(!e.input||!e.content)return u.value;const l=!e.is_delete&&e.replace===""?!1:e.is_delete?"":e.replace;let p=new RegExp(e.input,(e.is_ignore_case?"i":"")+(e.is_global?"g":""));if(l!==!1)u.value=e.content.replace(p,l);else{let _=e.content.match(p),c="";if(_){c+=$t("regex_output_count",[_.length])+`
`;for(let d=0;d<_.length;d++)c+="$"+d+" -> "+_[d]+`\r
`}else c=$t("regex_output_empty");u.value=c}o.save()}catch(l){u.value=$error(l)}},{immediate:!0,deep:!0}),(e,l)=>{const p=i("Textarea"),_=i("Dropdown"),c=i("Button"),d=i("Align"),V=i("Display"),h=i("Bool"),B=i("HeightResize"),k=i("ExtendPage"),b=j("row");return f(),$(P,null,[w((f(),$("div",L,[n(V,null,{extra:s(()=>[n(d,null,{default:s(()=>[n(_,{size:"small",options:t(E)(),placeholder:e.$t("regex_common"),onSelect:l[1]||(l[1]=a=>t(o).current.input=a)},null,8,["options","placeholder"]),n(c,{size:"small",type:"primary",onClick:l[2]||(l[2]=a=>y(r)?r.value=!t(r):r=!t(r)),text:e.$t("main_ui_reference")},null,8,["text"])]),_:1})]),default:s(()=>[n(p,{height:80,modelValue:t(o).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>t(o).current.input=a),placeholder:e.$t("regex_expression")},null,8,["modelValue","placeholder"])]),_:1}),n(V,null,{extra:s(()=>[n(h,{border:"",size:"small",modelValue:t(o).current.is_delete,"onUpdate:modelValue":l[4]||(l[4]=a=>t(o).current.is_delete=a),label:e.$t("regex_delete")},null,8,["modelValue","label"])]),default:s(()=>[n(p,{disabled:t(o).current.is_delete,height:80,modelValue:t(o).current.replace,"onUpdate:modelValue":l[3]||(l[3]=a=>t(o).current.replace=a),placeholder:e.$t("regex_replace_content")},null,8,["disabled","modelValue","placeholder"])]),_:1})])),[[b,"1-1"]]),w((f(),R(B,{append:[".ctool-page-option"]},{default:s(({height:a})=>[n(V,null,{extra:s(()=>[n(d,null,{default:s(()=>[n(h,{border:"",size:"small",modelValue:t(o).current.is_global,"onUpdate:modelValue":l[6]||(l[6]=g=>t(o).current.is_global=g),label:e.$t("regex_global")},null,8,["modelValue","label"]),n(h,{border:"",size:"small",modelValue:t(o).current.is_ignore_case,"onUpdate:modelValue":l[7]||(l[7]=g=>t(o).current.is_ignore_case=g),label:e.$t("regex_ignore_case")},null,8,["modelValue","label"])]),_:1})]),default:s(()=>[n(p,{height:a,modelValue:t(o).current.content,"onUpdate:modelValue":l[5]||(l[5]=g=>t(o).current.content=g),placeholder:e.$t("regex_input")},null,8,["height","modelValue","placeholder"])]),_:2},1024),n(p,{height:a,"model-value":t(u),placeholder:e.$t("main_ui_output")},null,8,["height","model-value","placeholder"])]),_:1},8,["append"])),[[b,"1-1"]]),n(k,{modelValue:t(r),"onUpdate:modelValue":l[8]||(l[8]=a=>y(r)?r.value=a:r=a)},{default:s(()=>[n(I)]),_:1},8,["modelValue"])],64)}}});export{Y as default};
