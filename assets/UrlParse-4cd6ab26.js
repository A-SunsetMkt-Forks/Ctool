import{u as v,i as S}from"./action-4599c846.js";import{d as z,y as b,z as w,D as x,c as V,w as p,r as u,f as q,v as a,j as r,s as O,Y as U,X as A,S as c}from"./tool-65d7eee7.js";import"./modulepreload-polyfill-3cfb730f.js";const $=z({__name:"UrlParse",async setup(B){let i,m;const t=v(([i,m]=b(()=>S({input:"",querySerializeOption:A("json")},{paste:n=>n.includes("://")})),i=await i,m(),i)),o=w(()=>{if(t.current.input.trim()==="")return{base:"",path:"",query:c.formQueryString(""),hash:""};try{const e=new URL(t.current.input);return{base:e.origin,path:e.pathname,query:c.formQueryString((e.search.startsWith("?")?e.search.substring(1):e.search)||""),hash:e.hash}}catch(e){return{base:$error(e),path:"",query:c.formQueryString(""),hash:""}}});return x(()=>({url:t.current.input}),()=>{try{new URL(t.current.input),t.save()}catch{}},{immediate:!0}),(n,e)=>{const h=u("Textarea"),s=u("Input"),d=u("Align"),_=u("SerializeOutput"),y=u("HeightResize");return q(),V(y,{reduce:5,ignore:""},{default:p(({small:g,large:f})=>[a(d,{direction:"vertical"},{default:p(()=>[a(h,{height:g,placeholder:n.$t("main_ui_input"),modelValue:r(t).current.input,"onUpdate:modelValue":e[0]||(e[0]=l=>r(t).current.input=l)},null,8,["height","placeholder","modelValue"]),O("div",{style:U([{height:`${f}px`},{display:"grid","grid-template-rows":"auto minmax(0,1fr)",gap:"5px"}])},[a(d,{direction:"vertical"},{default:p(()=>[a(s,{label:"Base","model-value":r(o).base},null,8,["model-value"]),a(s,{label:"Path","model-value":r(o).path},null,8,["model-value"]),a(s,{label:"Hash","model-value":r(o).hash},null,8,["model-value"])]),_:1}),a(_,{placeholder:"Query",content:r(o).query,modelValue:r(t).current.querySerializeOption,"onUpdate:modelValue":e[1]||(e[1]=l=>r(t).current.querySerializeOption=l),onSuccess:e[2]||(e[2]=l=>r(t).save())},null,8,["content","modelValue"])],4)]),_:2},1024)]),_:1})}}});export{$ as default};
