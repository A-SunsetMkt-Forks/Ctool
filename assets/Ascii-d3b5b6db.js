var U=Object.defineProperty;var O=(n,t,s)=>t in n?U(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var D=(n,t,s)=>(O(n,typeof t!="symbol"?t+"":t,s),s);import{u as z,i as I}from"./action-b86f74c7.js";import{r as u}from"./radix-450ef310.js";import{D as w,l as f,aG as _,at as h,n as A,bk as p,y as r,bj as P,aB as j,p as g,F as v,aE as K,o as X}from"./history-8b5669f8.js";import"./shim-03580cdb.js";import"./_commonjsHelpers-87174ba5.js";const $=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","HT","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","SPACE","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],C={NUL:$t("ascii_code_nul"),SOH:$t("ascii_code_soh"),STX:$t("ascii_code_stx"),ETX:$t("ascii_code_etx"),EOT:$t("ascii_code_eot"),ENQ:$t("ascii_code_enq"),ACK:$t("ascii_code_ack"),BEL:$t("ascii_code_bel"),BS:$t("ascii_code_bs"),HT:$t("ascii_code_tab"),LF:$t("ascii_code_lf"),VT:$t("ascii_code_vt"),FF:$t("ascii_code_ff"),CR:$t("ascii_code_cr"),SO:$t("ascii_code_so"),SI:$t("ascii_code_si"),DLE:$t("ascii_code_dle"),DC1:$t("ascii_code_dc1"),DC2:$t("ascii_code_dc2"),DC3:$t("ascii_code_dc3"),DC4:$t("ascii_code_dc4"),NAK:$t("ascii_code_nak"),SYN:$t("ascii_code_syn"),ETB:$t("ascii_code_etb"),CAN:$t("ascii_code_can"),EM:$t("ascii_code_em"),SUB:$t("ascii_code_sub"),ESC:$t("ascii_code_esc"),FS:$t("ascii_code_fs"),GS:$t("ascii_code_gs"),RS:$t("ascii_code_rs"),US:$t("ascii_code_us"),DEL:$t("ascii_code_del"),SPACE:$t("ascii_code_space")};class G{constructor(t,s="str"){D(this,"decData");let e=-1;switch(t=`${t}`,s!=="str"&&(t=t.toLowerCase()),s){case"str":e=t.charCodeAt(0);break;case"dec":/^[0-9 ]+$/.test(t)&&(e=parseInt(u(t,10,10)));break;case"hex":/^[0-9a-f ]+$/.test(t)&&(e=parseInt(u(t,16,10)));break;case"oct":/^[0-7 ]+$/.test(t)&&(e=parseInt(u(t,8,10)));break;case"bin":/^[0-1 ]+$/.test(t)&&(e=parseInt(u(t.replace(/\b(0+)/gi,""),2,10)));break;default:throw new Error("type error")}if(e<0||e>127)throw new Error(`"${t}": input error`);this.decData=`${e}`}dec(){return this.decData+""}hex(){return(u(this.decData,10,16)+"").toUpperCase()}oct(){return u(this.decData,10,8)+""}bin(){return(u(this.decData,10,2)+"").padStart(8,"0")}str(){const t=$[this.decData],s={SPACE:" ",HT:"	",LF:`
`,CR:"\r"};return t in s?s[t]:Object.keys(C).includes(t)?`[${t}]`:$[this.decData]}}const m=(n,t,s)=>{if(n==="")return"";if(t==="str")for(let c of Object.keys(C))n=n.replace(new RegExp(`\\[${c}\\]`,"g"),String.fromCharCode($.indexOf(c)));let e=[];for(const c of n.split(t==="str"?"":" ")){if(t!=="str"&&c==="")continue;let a=new G(c,t);e.push(a[s]())}return e.join(s==="str"?"":" ")},M=w({__name:"Reference",setup(n){const t=f(()=>{let e=[];for(let c in $){const a=!($[c]in C);e.push({dec:`${c}`,hex:m(c,"dec","hex"),oct:m(c,"dec","oct"),bin:m(c,"dec","bin"),str:$[c],is_visible:a?$t("ascii_yes"):$t("ascii_no"),explain:a?"":C[$[c]]})}return e}),s=[{title:$t("ascii_input_dec"),key:"dec",width:70},{title:$t("ascii_input_hex"),key:"hex",width:90},{title:$t("ascii_input_oct"),key:"oct",width:70},{title:$t("ascii_input_bin"),key:"bin",width:95},{title:$t("ascii_input_str"),key:"str",width:70},{title:$t("ascii_is_visible"),key:"is_visible",width:90},{title:$t("ascii_description"),key:"explain"}];return(e,c)=>{const a=_("Table"),l=_("HeightResize");return h(),A(l,null,{default:p(({height:b})=>[r(a,{columns:s,lists:t.value,height:b},null,8,["lists","height"])]),_:1})}}}),tt=w({__name:"Ascii",async setup(n){let t,s;const e=z(([t,s]=P(()=>I({type:"",input:""},{paste:!1})),t=await t,s(),t));let c=j(!1);const a=i=>{if(e.current.type===""||e.current.input==="")return"";if(e.current.type===i)return e.current.input;try{return m(e.current.input,e.current.type,i)}catch(o){return $error(o)}},l=(i,o)=>{e.current.input=o,e.current.type=i,e.current.input!==""&&e.save()},b=f({get:()=>a("dec"),set:i=>l("dec",i)}),B=f({get:()=>a("hex"),set:i=>l("hex",i)}),L=f({get:()=>a("oct"),set:i=>l("oct",i)}),T=f({get:()=>a("bin"),set:i=>l("bin",i)}),H=f({get:()=>a("str"),set:i=>l("str",i)}),S={dec:b,hex:B,oct:L,bin:T,str:H};return(i,o)=>{const N=_("Textarea"),x=_("Button"),y=_("Align"),R=_("Display"),V=_("HeightResize"),F=_("ExtendPage");return h(),g(v,null,[r(V,null,{default:p(({height:E})=>[r(y,{direction:"vertical"},{default:p(()=>[(h(),g(v,null,K(["str","bin","oct","dec","hex"],d=>r(R,{position:"bottom-right"},{extra:p(()=>[r(y,null,{default:p(()=>[d==="str"?(h(),A(x,{key:0,size:"small",onClick:o[0]||(o[0]=k=>c.value=!c.value),text:i.$t("main_ui_reference")},null,8,["text"])):X("",!0),r(x,{size:"small",type:"primary",onClick:k=>i.$copy(S[d].value),text:i.$t(`ascii_input_${d}`)},null,8,["onClick","text"])]),_:2},1024)]),default:p(()=>[r(N,{modelValue:S[d].value,"onUpdate:modelValue":k=>S[d].value=k,placeholder:d==="str"?i.$t("ascii_input_str_prompt"):i.$t("ascii_input_prompt",[i.$t(`ascii_input_${d}`)]),height:(E-20)/5},null,8,["modelValue","onUpdate:modelValue","placeholder","height"])]),_:2},1024)),64))]),_:2},1024)]),_:1}),r(F,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=E=>c.value=E)},{default:p(()=>[r(M)]),_:1},8,["modelValue"])],64)}}});export{tt as default};
