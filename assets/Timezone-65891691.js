import{u as P,i as q}from"./action-69372288.js";import{d as G,ae as u,z as i,y as O,I as J,D as K,k as $,v as a,w as p,j as n,V as M,F as h,r as d,B as Q,f as l,q as H,c as C,m as W,G as X,A as Z}from"./tool-34caf6bc.js";import{u as ee,t as te,z as ne,e as re}from"./en_US-58e39c3a.js";import"./modulepreload-polyfill-3cfb730f.js";const oe={key:1},ce=G({__name:"Timezone",async setup(ue){let y,w;u.extend(ee),u.extend(te);const z="large",B=["Asia/Shanghai","Europe/London","Asia/Tokyo","America/Chicago","Europe/Berlin","Africa/Cairo","Asia/Calcutta"],Y=i(()=>Object.entries($t("main_locale")==="zh_CN"?ne:re).map(([t,o])=>({value:t,label:`${o}`}))),D=t=>new RegExp(/^\d+-\d+-\d+ \d+:\d+:\d+$/).test(t.trim())||new RegExp(/^\d+-\d+-\d+ \d+:\d+:\d+\.\d+$/).test(t.trim()),e=P(([y,w]=O(()=>q({type:"",input:"",timezone:[...new Set([u.tz.guess(),...B])].slice(0,7)},{paste:!1})),y=await y,w(),y));let s=J(!1);const c=t=>{if(!e.current.type||e.current.input.trim()==="")return"";if(e.current.type===t)return e.current.input;try{if(!f.value)throw new Error($t("time_error_format"));return k(e.current.input,e.current.type,t)}catch(o){return $error(o)}},m=(t,o)=>{e.current.input=o,e.current.type=t};K(()=>e.current,t=>{!D(t.input)||t.type===""||e.save()},{immediate:!0,deep:!0});const f=i(()=>D(e.current.input.trim())),k=(t,o,_)=>t.includes(".")?u.tz(u.tz(t,o),_).format("YYYY-MM-DD HH:mm:ss.SSS"):u.tz(u.tz(t,o),_).format("YYYY-MM-DD HH:mm:ss"),S=()=>{e.current.type=e.current.timezone[0],e.current.input=u.tz(u(),e.current.type).format("YYYY-MM-DD HH:mm:ss")},b=i({get:()=>c(e.current.timezone[0]),set:t=>m(e.current.timezone[0],t)}),T=i({get:()=>c(e.current.timezone[1]),set:t=>m(e.current.timezone[1],t)}),U=i({get:()=>c(e.current.timezone[2]),set:t=>m(e.current.timezone[2],t)}),I=i({get:()=>c(e.current.timezone[3]),set:t=>m(e.current.timezone[3],t)}),L=i({get:()=>c(e.current.timezone[4]),set:t=>m(e.current.timezone[4],t)}),j=i({get:()=>c(e.current.timezone[5]),set:t=>m(e.current.timezone[5],t)}),N=i({get:()=>c(e.current.timezone[6]),set:t=>m(e.current.timezone[6],t)}),x={output0:b,output1:T,output2:U,output3:I,output4:L,output5:j,output6:N};return(t,o)=>{const _=d("Input"),A=d("Select"),v=d("Button"),V=d("Align"),E=d("Display"),R=d("ExtendPage"),F=Q("row");return l(),$(h,null,[a(V,{direction:"vertical"},{default:p(()=>[(l(!0),$(h,null,H(n(X.range)(0,7),r=>(l(),C(E,{position:"right-center"},{extra:p(()=>[a(V,null,{default:p(()=>[a(A,{modelValue:n(e).current.timezone[r],"onUpdate:modelValue":g=>n(e).current.timezone[r]=g,options:n(Y),size:"small",disabled:n(f)&&n(e).current.timezone[r]===n(e).current.type},null,8,["modelValue","onUpdate:modelValue","options","disabled"]),n(f)?(l(),C(v,{key:0,text:t.$t("main_ui_copy"),onClick:g=>t.$copy(x[`output${r}`].value),size:"small",type:"primary"},null,8,["text","onClick"])):W("",!0)]),_:2},1024)]),default:p(()=>[a(_,{modelValue:x[`output${r}`].value,"onUpdate:modelValue":g=>x[`output${r}`].value=g,placeholder:t.$t("time_timezone_input_placeholder"),size:z},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1024))),256)),n(f)?Z((l(),$("div",oe,[a(v,{size:z,onClick:o[0]||(o[0]=r=>M(s)?s.value=!0:s=!0),text:t.$t("main_ui_more")},null,8,["text"]),a(v,{size:z,onClick:o[1]||(o[1]=r=>n(e).current.input=""),text:t.$t("main_ui_clear")},null,8,["text"])])),[[F,"1-100px"]]):(l(),C(v,{key:0,size:z,text:t.$t("time_current_time"),onClick:S},null,8,["text"]))]),_:1}),a(R,{modelValue:n(s),"onUpdate:modelValue":o[2]||(o[2]=r=>M(s)?s.value=r:s=r)},{default:p(()=>[a(V,{direction:"vertical"},{default:p(()=>[(l(!0),$(h,null,H(n(Y),r=>(l(),C(E,{position:"right-center",text:r.label,type:r.value===n(e).current.type?"danger":"general",onClick:()=>t.$copy(k(n(e).current.input,n(e).current.type,r.value))},{default:p(()=>[a(_,{"model-value":k(n(e).current.input,n(e).current.type,r.value),size:z},null,8,["model-value"])]),_:2},1032,["text","type","onClick"]))),256))]),_:1})]),_:1},8,["modelValue"])],64)}}});export{ce as default};
