import{u as k,i as U}from"./action-5984d794.js";import{g as C,a as E}from"./util-874621ee.js";import{D as y,l as H,aG as s,at as f,n as z,bk as r,y as o,b0 as n,bj as A,aB as h,bf as T,p as $,bm as w,F,aH as P}from"./history-0ab97ef3.js";import"./shim-03580cdb.js";import"./_commonjsHelpers-87174ba5.js";const j=y({__name:"Reference",setup(R){const d=H(()=>[{title:$t("regex_reference_name"),key:"name",width:150},{title:$t("regex_reference_text"),key:"text",html:!0}]);return(b,t)=>{const u=s("Table"),m=s("HeightResize");return f(),z(m,null,{default:r(({height:e})=>[o(u,{columns:d.value,lists:n(C)(),height:e},null,8,["columns","lists","height"])]),_:1})}}}),G={class:"ctool-page-option",style:{"margin-bottom":"5px"}},Y=y({__name:"Regex",async setup(R){let d,b;const t=k(([d,b]=A(()=>U({input:"[\\dheo]",content:new Date().getFullYear()+" hello WORLD 你好世界",replace:"",is_global:!0,is_ignore_case:!0,is_delete:!1},{paste:!1})),d=await d,b(),d));let u=h(""),m=h(!1);return T(()=>t.current,e=>{u.value="";try{if(!e.input||!e.content)return u.value;const l=!e.is_delete&&e.replace===""?!1:e.is_delete?"":e.replace;let i=new RegExp(e.input,(e.is_ignore_case?"i":"")+(e.is_global?"g":""));if(l!==!1)u.value=e.content.replace(i,l);else{let _=e.content.match(i),c="";if(_){c+=$t("regex_output_count",[_.length])+`
`;for(let p=0;p<_.length;p++)c+="$"+p+" -> "+_[p]+`\r
`}else c=$t("regex_output_empty");u.value=c}t.save()}catch(l){u.value=$error(l)}},{immediate:!0,deep:!0}),(e,l)=>{const i=s("Textarea"),_=s("Dropdown"),c=s("Button"),p=s("Align"),x=s("Display"),V=s("Bool"),D=s("HeightResize"),B=s("ExtendPage"),v=P("row");return f(),$(F,null,[w((f(),$("div",G,[o(x,null,{extra:r(()=>[o(p,null,{default:r(()=>[o(_,{size:"small",options:n(E)(),placeholder:e.$t("regex_common"),onSelect:l[1]||(l[1]=a=>n(t).current.input=a)},null,8,["options","placeholder"]),o(c,{size:"small",type:"primary",onClick:l[2]||(l[2]=a=>m.value=!m.value),text:e.$t("main_ui_reference")},null,8,["text"])]),_:1})]),default:r(()=>[o(i,{height:80,modelValue:n(t).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>n(t).current.input=a),placeholder:e.$t("regex_expression")},null,8,["modelValue","placeholder"])]),_:1}),o(x,null,{extra:r(()=>[o(V,{border:"",size:"small",modelValue:n(t).current.is_delete,"onUpdate:modelValue":l[4]||(l[4]=a=>n(t).current.is_delete=a),label:e.$t("regex_delete")},null,8,["modelValue","label"])]),default:r(()=>[o(i,{disabled:n(t).current.is_delete,height:80,modelValue:n(t).current.replace,"onUpdate:modelValue":l[3]||(l[3]=a=>n(t).current.replace=a),placeholder:e.$t("regex_replace_content")},null,8,["disabled","modelValue","placeholder"])]),_:1})])),[[v,"1-1"]]),w((f(),z(D,{append:[".ctool-page-option"]},{default:r(({height:a})=>[o(x,null,{extra:r(()=>[o(p,null,{default:r(()=>[o(V,{border:"",size:"small",modelValue:n(t).current.is_global,"onUpdate:modelValue":l[6]||(l[6]=g=>n(t).current.is_global=g),label:e.$t("regex_global")},null,8,["modelValue","label"]),o(V,{border:"",size:"small",modelValue:n(t).current.is_ignore_case,"onUpdate:modelValue":l[7]||(l[7]=g=>n(t).current.is_ignore_case=g),label:e.$t("regex_ignore_case")},null,8,["modelValue","label"])]),_:1})]),default:r(()=>[o(i,{height:a,modelValue:n(t).current.content,"onUpdate:modelValue":l[5]||(l[5]=g=>n(t).current.content=g),placeholder:e.$t("regex_input")},null,8,["height","modelValue","placeholder"])]),_:2},1024),o(i,{height:a,"model-value":u.value,placeholder:e.$t("main_ui_output")},null,8,["height","model-value","placeholder"])]),_:1},8,["append"])),[[v,"1-1"]]),o(B,{modelValue:m.value,"onUpdate:modelValue":l[8]||(l[8]=a=>m.value=a)},{default:r(()=>[o(j)]),_:1},8,["modelValue"])],64)}}});export{Y as default};
