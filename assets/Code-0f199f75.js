import{u as E,i as U}from"./action-1626be96.js";import{f as m}from"./index-912daf13.js";import{A as O,bi as Q,k as w,aA as D,be as F,m as s,bj as c,aF as u,as as o,x as g,a$ as t,o as b,aD as N,F as q,n as i,w as v,aT as $,cc as R}from"./history-33066b8a.js";import{l as H}from"./index-4fa5e3a9.js";import"./index-da14ef80.js";import"./_commonjsHelpers-87174ba5.js";const I=Object.keys(H.formatters),M={key:3},Y=O({__name:"Code",async setup(P){let p,_;const d=Object.keys(m.languages).filter(l=>!["json"].includes(l)),e=E(([p,_]=Q(()=>U({input:"",language:"javascript",option:{javascript:{tab:4},markdown:{tab:4},typescript:{tab:4},css:{tab:4},less:{tab:4},scss:{tab:4},yaml:{tab:4},html:{tab:4},xml:{tab:4,collapse_content:!0},php:{tab:4},java:{tab:4},vue:{tab:4},angular:{tab:4},graphql:{tab:4},sql:{tab:4,language:"mysql"}}},{keyword:l=>{const a=R(l,d);return a===""?!1:{language:a}}})),p=await p,_(),p)),y=w(()=>m.languages[e.current.language].compress),h=w(()=>m.languages[e.current.language].beautify),f=async l=>{if(e.current.input.trim()==="")return;const r=await(await m.load(e.current.language)).set(e.current.input,e.current.option[e.current.language]).format(l);if(r==="")throw new Error("result empty");e.current.input=r,e.success()},V=D(0),L=()=>{if(e.current.language==="sql")switch(e.current.option.sql.language){case"mysql":return"MySQL";case"mariadb":return"MariaDB SQL";case"plsql":return"PLSQL";case"postgresql":return"PostgreSQL";case"sqlite":return"SQLite"}};F(()=>e.current.option.sql.language,()=>{V.value++});const x=[{label:$t("code_indent_width_null"),value:0},{label:$t("code_indent_width",[2]),value:2},{label:$t("code_indent_width",[4]),value:4},{label:$t("code_indent_width",[6]),value:6},{label:$t("code_indent_width",[8]),value:8}];return(l,a)=>{const r=u("Select"),z=u("Bool"),k=u("Button"),B=u("Align"),C=u("Editor"),S=u("HeightResize");return o(),s(S,null,{default:c(({height:j})=>[g(C,{modelValue:t(e).current.input,"onUpdate:modelValue":a[5]||(a[5]=n=>t(e).current.input=n),"lang-callback":L,reload:V.value,lang:t(e).current.language,height:`${j}px`},{default:c(()=>[g(B,null,{default:c(()=>[g(r,{size:"small",modelValue:t(e).current.language,"onUpdate:modelValue":a[0]||(a[0]=n=>t(e).current.language=n),options:t(d)},null,8,["modelValue","options"]),(o(!0),b(q,null,N(t(d),n=>(o(),b(q,{key:n},[t(e).current.language===n?(o(),s(r,{key:0,size:"small",modelValue:t(e).current.option[`${n}`].tab,"onUpdate:modelValue":A=>t(e).current.option[`${n}`].tab=A,options:x},null,8,["modelValue","onUpdate:modelValue"])):i("",!0)],64))),128)),t(e).current.language==="sql"?(o(),s(r,{key:0,size:"small",modelValue:t(e).current.option.sql.language,"onUpdate:modelValue":a[1]||(a[1]=n=>t(e).current.option.sql.language=n),options:t(I)},null,8,["modelValue","options"])):i("",!0),t(e).current.language==="xml"?(o(),s(z,{key:1,size:"small",modelValue:t(e).current.option.xml.collapse_content,"onUpdate:modelValue":a[2]||(a[2]=n=>t(e).current.option.xml.collapse_content=n),label:l.$t("code_xml_collapse_content")},null,8,["modelValue","label"])):i("",!0),t(h)?(o(),s(k,{key:2,type:"primary",size:"small",onClick:a[3]||(a[3]=n=>f("beautify"))},{default:c(()=>[v($(l.$t("code_beautify")),1)]),_:1})):i("",!0),t(y)?(o(),b("span",M,"|")):i("",!0),t(y)?(o(),s(k,{key:4,type:"primary",size:"small",onClick:a[4]||(a[4]=n=>f("compress"))},{default:c(()=>[v($(l.$t("code_compress")),1)]),_:1})):i("",!0)]),_:1})]),_:2},1032,["modelValue","reload","lang","height"])]),_:1})}}});export{Y as default};
